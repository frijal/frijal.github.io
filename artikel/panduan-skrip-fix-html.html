<!doctypehtml>
<htmllang="id">
<head>
<metacharset="UTF-8">
<metaname="viewport"content="width=device-width,initial-scale=1.0">
<title>PanduanLengkap:MembuatSkripOtomatisuntukMemperbaikiHTML</title>
<metaname="description"content="TutoriallengkaplangkahdemilangkahuntukmembuatskripPythondenganBeautifulSoupgunamemperbaikierrorHTMLumumsecaraotomatis,termasukmengatasimasalahinstalasidiLinux.">
<metaname="keywords"content="Python,BeautifulSoup,HTML,FixHTML,SkripOtomatis,venv,fishshell,externally-managed-environment,tutorial,coding">
<metaname="author"content="Gemini&frijal">
<linkrel="canonical"href="https://frijal.pages.dev/artikel/panduan-skrip-fix-html.html">
<linkrel="icon"href="data:image/svg+xml,<svgxmlns=%22http://www.w3.org/2000/svg%22viewBox=%2200100100%22><texty=%22.9em%22font-size=%2290%22>‚öôÔ∏è</text></svg>">
<metaproperty="og:title"content="PanduanLengkap:MembuatSkripOtomatisuntukMemperbaikiHTML">
<metaproperty="og:description"content="TutoriallengkaplangkahdemilangkahuntukmembuatskripPythondenganBeautifulSoupgunamemperbaikierrorHTMLumumsecaraotomatis.">
<metaproperty="og:type"content="article">
<metaproperty="og:url"content="https://frijal.pages.dev/artikel/panduan-skrip-fix-html.html">
<metaproperty="og:image"content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
<metaproperty="og:image:alt"content="KodePythondilayarmonitor">
<metaproperty="og:site_name"content="frijal.pages.dev">
<metaname="twitter:card"content="summary_large_image">
<metaname="twitter:title"content="PanduanLengkap:MembuatSkripOtomatisuntukMemperbaikiHTML">
<metaname="twitter:description"content="TutoriallengkaplangkahdemilangkahuntukmembuatskripPythondenganBeautifulSoupgunamemperbaikierrorHTMLumumsecaraotomatis.">
<metaname="twitter:image"content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
<metaname="twitter:image:alt"content="KodePythondilayarmonitor">
<metaname="twitter:site"content="@frijal">
<metaitemprop="image"content="https://frijal.pages.dev/img/panduan-skrip-fix-html.webp">
<metaproperty="article:published_time"content="2025-10-04T15:37:18.219+00:00">
<style>
:root{
--bg-color:#111827;
--card-color:#1f2937;
--text-color:#d1d5db;
--heading-color:#f9fafb;
--accent-color:#38bdf8;
--border-color:rgba(255,255,255,0.1);
--shadow:010px15px-3pxrgba(0,0,0,0.1),04px6px-2pxrgba(0,0,0,0.05);
}
html{scroll-behavior:smooth;}
body{
margin:0;
font-family:'SegoeUI',system-ui,-apple-system,BlinkMacSystemFont,'HelveticaNeue',Arial,sans-serif;
background-color:var(--bg-color);
color:var(--text-color);
line-height:1.7;
font-size:16px;
}
.container{
max-width:900px;
margin:0auto;
padding:2rem1.5rem;
}
header{text-align:center;padding:3rem1.5rem;}
h1{
font-size:clamp(2rem,5vw,3rem);
color:var(--heading-color);
margin:000.5rem0;
line-height:1.2;
}
header.subtitle{font-size:1.1rem;color:var(--accent-color);}
h2{
font-size:1.75rem;
color:var(--heading-color);
border-bottom:2pxsolidvar(--accent-color);
padding-bottom:0.5rem;
margin-top:3rem;
}
h3{font-size:1.25rem;color:var(--heading-color);}
hr{border:0;height:1px;background-color:var(--border-color);margin:3rem0;}
code{
background-color:#374151;
padding:0.2em0.4em;
border-radius:6px;
font-family:'FiraCode','CourierNew',monospace;
font-size:0.9em;
color:#a5f3fc;
}
pre{
background-color:var(--card-color);
border:1pxsolidvar(--border-color);
border-radius:8px;
padding:1em;
overflow-x:auto;
box-shadow:var(--shadow);
}
precode{padding:0;background:none;}
.callout{
background-color:var(--card-color);
border-left:4pxsolidvar(--accent-color);
padding:1em1.5em;
margin:1.5rem0;
border-radius:08px8px0;
}
.callout.warning{border-left-color:#facc15;}
.gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-top:1.5rem;}
.gallerya{display:block;overflow:hidden;border-radius:8px;box-shadow:var(--shadow);}
.galleryimg{width:100%;height:auto;display:block;transition:transform0.3sease;}
.gallerya:hoverimg{transform:scale(1.05);}
.lightbox{position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(5px);display:none;place-items:center;z-index:1000;}
.lightbox.open{display:grid;}
.lightboxfigure{margin:0;max-width:90vw;max-height:85vh;position:relative;}
.lightboximg{display:block;max-width:100%;max-height:85vh;}
.lightboxbutton{position:absolute;background:rgba(255,255,255,0.1);border:1pxsolidvar(--border-color);color:white;font-size:2rem;cursor:pointer;transition:background0.2s;}
.lightboxbutton:hover{background:rgba(255,255,255,0.2);}
.lb-close{top:10px;right:10px;padding:01rem;}
.lb-prev,.lb-next{top:50%;transform:translateY(-50%);padding:1rem;}
.lb-prev{left:10px;}
.lb-next{right:10px;}
.share-buttons,.user-info{text-align:center;background:var(--card-color);padding:2rem;border-radius:8px;margin-top:2rem;box-shadow:var(--shadow);}
.share-buttonsa{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;background:#374151;color:white;border-radius:50%;text-decoration:none;margin:00.5rem;transition:transform0.2s;}
.share-buttonsa:hover{transform:translateY(-3px);}
.user-info-grid{display:flex;justify-content:space-around;flex-wrap:wrap;gap:1rem;}
.info-item{display:flex;align-items:center;gap:0.5rem;}
.info-item.icon{font-size:1.5rem;}
footer{text-align:center;padding:2rem;color:#6b7380;font-size:0.9em;margin-top:2rem;}

</style>

<linkrel="stylesheet"href="/ext/marquee-url.css"><linkrel="alternate"type="application/rss+xml"title="30artikelbarubikin."href="https://frijal.pages.dev/rss.xml"/>
</head>
<body>
<divclass="container">
<header>
<h1>‚öôÔ∏èPanduanLengkap:SkripOtomatisPerbaikanHTML</h1>
<divid="iposbrowser"></div>

<pclass="subtitle">SebuahrangkumanperjalanandarierrorhinggasolusifinaldenganPython&BeautifulSoup.</p>
</header>
<main>
<article>
<p>DalamprosesmengelolabanyakfileHTML,seringkalikitamenemukanerror-errorkecilyangberulang.Memperbaikinyasatupersatutentumembuangwaktu.Solusinya?Membuatskripotomatis!HalamaninimerangkumprosespembuatanskripPythondariawal,termasukcaramengatasiberbagaikendalayangmunculdilingkunganLinuxmodern.</p>
<hr>
<h2>Tahap1:KendalaInstalasiüöß</h2>
<p>Langkahpertamadalammembuatskripiniadalahmenginstallibraryyangdibutuhkan:`BeautifulSoup4`dan`lxml`.Namun,didistroLinuxmodern,kitaseringkalidisambutdenganerror:</p>
<pre><code>pipinstallbeautifulsoup4lxml
error:externally-managed-environment</code></pre>
<h3>KenapaErrorIniMuncul?</h3>
<p>Erroriniadalahsebuahfiturkeamanan.SistemoperasiLinux(sepertiUbuntu/Debian)inginmelindungipaketPythoninternalnyaagartidakrusakolehinstalasi`pip`yangdilakukanpengguna.Jadi,ia"mengunci"lingkunganPythonsistem.</p>
<h3>SolusiTerbaik:VirtualEnvironment(`venv`)</h3>
<p>Carapalingprofesionaladalahdenganmembuatlingkungankerjayangterisolasi.Denganbegitu,kitabebasmenginstalpaketapapuntanpamengganggusistemutama.</p>
<pre><code>#1.Buatfolderlingkunganvirtualbernama'venv'
python3-mvenvvenv

#2.Aktifkanlingkungantersebut
sourcevenv/bin/activate</code></pre>
<hr>
<h2>Tahap2:ErrorShellyangTidakKompatibelüêü</h2>
<p>Setelahmembuat`venv`,beberapapengguna(terutamapengguna`fish`shell)akanmenemukanerrorbarusaatmencobamengaktifkannya:</p>
<pre><code>sourcevenv/bin/activate
venv/bin/activate:'case'builtinnotinsideofswitchblock</code></pre>
<h3>KenapaErrorIniMuncul?</h3>
<p>Skrip`activate`standarditulisuntukshell`bash`.Shelllainseperti`fish`memilikisintaksyangberbedadantidakbisamenjalankannya.Untungnya,`venv`sudahmenyediakansolusinya.</p>
<h3>Solusi:GunakanSkripAktivasiyangTepat</h3>
<p>Cukupgunakanfileaktivasiyangberakhiran`.fish`.</p>
<pre><code>#Perintahaktivasiyangbenaruntukfishshell
sourcevenv/bin/activate.fish</code></pre>
<p>Setelahperintahini,terminalAndaakanmenampilkan`(venv)`didepannya,menandakanAndasudahberadadilingkunganvirtualdansiapuntukmelanjutkaninstalasi.</p>
<hr>
<h2>Tahap3:SkripFinalPerbaikanHTMLüêç</h2>
<p>Setelahberhasilmengatasimasalahlingkungan,inilahskripfinal`fix_html.py`yangkitakembangkan.Skripinitidakhanyamemperbaikierrorstruktural,tetapijugamembersihkanspasiberlebihdanmembuatfilelogyangrapi.</p>
<divclass="callout">
<strong>FiturUtamaSkrip:</strong><br>
1.Memperbaikitagyangrusak.<br>
2.Memindahkankontenyangsalahtempatkedalam`&lt;body&gt;`.<br>
3.Membersihkantag`&lt;script&gt;`JSON-LD.<br>
4.Menghapus`&lt;div&gt;`kosong.<br>
5.Membersihkanspasidanbarisbarudidalamtag(misal:`&lt;strong&gt;`).<br>
6.Membuatfilelog`perbaikan_log.txt`denganringkasan.
</div>
<pre><codeclass="language-python">importos
importre
frombs4importBeautifulSoup,Comment,NavigableString

LOG_FILE="perbaikan_log.txt"

defstrip_whitespace_in_tags(soup):
tags_to_exclude={'pre','code','style','script'}
fortaginsoup.find_all(lambdat:t.namenotintags_to_exclude):
forcontentinlist(tag.contents):
ifisinstance(content,NavigableString):
cleaned_string=str(content).replace('\xa0','').strip()
ifcleaned_string!=str(content):
ifcleaned_string:
content.replace_with(cleaned_string)
else:
content.extract()

deffix_html_file(file_path):
log_messages=[]
has_changes=False
try:
withopen(file_path,'r',encoding='utf-8')asf:
content=f.read()

if"times;</span>"incontent:
content=content.replace("times;</span>","&times;</span>")
log_messages.append("-Memperbaiki&lt;span&gt;penutupyangrusak.")
has_changes=True

end_marker='&lt;/html&gt;'
ifend_markerincontentandcontent[content.rfind(end_marker)+len(end_marker):].strip():
log_messages.append("-Menemukankontensetelah&lt;/html&gt;yangakandipindahkan.")
has_changes=True

soup=BeautifulSoup(content,'lxml')
ifnotsoup.body:returnlog_messages

json_scripts=soup.find_all('script',type='application/ld+json')
json_cleaned_count=0
forscriptinjson_scripts:
ifscript.string:
original_string=script.string
cleaned_json=re.sub(r'&lt;[^&gt;]+&gt;|','',original_string,flags=re.DOTALL)
ifcleaned_json.strip()!=original_string.strip():
script.string=cleaned_json.strip()
json_cleaned_count+=1

ifjson_cleaned_count>0:
log_messages.append(f"-Membersihkan{json_cleaned_count}blokskripJSON-LD.")
has_changes=True

empty_divs_removed=0
fordivinsoup.find_all('div'):
ifnotany(isinstance(c,Comment)or(isinstance(c,str)andc.strip())orhasattr(c,'name')forcindiv.contents):
div.decompose()
empty_divs_removed+=1

ifempty_divs_removed>0:
log_messages.append(f"-Menghapus{empty_divs_removed}tag&lt;div&gt;kosong.")
has_changes=True

strip_whitespace_in_tags(soup)
log_messages.append("-MembersihkanspasiberlebihdidalamtagHTML.")
has_changes=True

ifhas_changes:
output_path=file_path.replace('.html','_fixed.html')
withopen(output_path,'w',encoding='utf-8')asf:
f.write(soup.prettify(formatter="html5"))
print(f"[‚úì]Perbaikan&pembersihanditerapkan:{os.path.basename(output_path)}")
else:
print(f"[-]Tidakadaperbaikanyangdiperlukan.")

returnlog_messages

exceptExceptionase:
print(f"[‚úó]Gagalmemproses{file_path}:{e}")
return[f"-ERROR:{e}"]

defmain():
all_logs={}
ifos.path.exists(LOG_FILE):os.remove(LOG_FILE)

html_files_to_process=sorted([fforfinos.listdir('.')iff.endswith('.html')andnotf.endswith('_fixed.html')])

ifnothtml_files_to_process:
print("ü§∑‚Äç‚ôÇÔ∏èTidakadafile.htmlyangditemukan.")
return

print(f"Ditemukan{len(html_files_to_process)}fileuntukdiproses...\n")

forfilenameinhtml_files_to_process:
print(f"[*]Memprosesfile:{filename}...")
log_messages=fix_html_file(os.path.join('.',filename))
iflog_messages:all_logs[filename]=log_messages

print("\nüéâProsesselesai.")

ifall_logs:
withopen(LOG_FILE,'w',encoding='utf-8')aslog_file:
log_file.write(f"================SUMMARY================\n")
log_file.write(f"Totalfileyangdiprosesdandibersihkan:{len(all_logs)}\n")
log_file.write(f"=======================================\n\n")
forfilenameinsorted(all_logs.keys()):
log_file.write(f"Loguntukfile:{filename}\n")
formsginall_logs[filename]:log_file.write(f"{msg}\n")
log_file.write("-"*40+"\n")
print(f"üìùCatatanlogdengansummarytelahdibuatdi:{LOG_FILE}")

if__name__=="__main__":
main()
</code></pre>
<hr>
<h2>Tahap4:CaraPenggunaan&HasilüöÄ</h2>
<h3>Langkah-langkahEksekusi</h3>
<ol>
<li>Simpankodediatassebagai`fix_html.py`.</li>
<li>Letakkandifolderyangsamadenganfile-fileHTMLAnda.</li>
<li>Bukaterminaldifoldertersebut.</li>
<li>Aktifkanlingkunganvirtual(`sourcevenv/bin/activate.fish`).</li>
<li>Jalankanskrip:`pythonfix_html.py`.</li>
</ol>
<h3>HasilAkhir</h3>
<p>Skripakanmenghasilkanduahal:</p>
<ul>
<li>File`*_fixed.html`untuksetiapfileyangdiperbaiki.</li>
<li>Satufilelog`perbaikan_log.txt`yangberisiringkasandandetailsemuaperbaikan.</li>
</ul>
<divclass="callout">
<strong>ContohLog:</strong><br>
<pre><code>================SUMMARY================
Totalfileyangdiprosesdandibersihkan:1
=======================================
Loguntukfile:contoh.html
-Memperbaiki&lt;span&gt;penutuppencarianyangrusak.
-Menemukankontensetelah&lt;/html&gt;yangakandipindahkan.
-MembersihkanspasiberlebihdidalamtagHTML.
----------------------------------------</code></pre>
</div>
<hr>
<h2>SemogaBerhasil.</h2>
<divclass="gallery"></div>
<divclass="lightbox"id="lightbox">
<figure>
<imgid="lb-img"src=""alt="Gambardiperbesar">
<buttonclass="lb-prev"id="lb-prev"aria-label="GambarSebelumnya">&#10094;</button>
<buttonclass="lb-next"id="lb-next"aria-label="GambarBerikutnya">&#10095;</button>
<buttonclass="lb-close"id="lb-close"aria-label="Tutup">&times;</button>
</figure>
</div>
</article>
<hr>
<sectionid="fb-comments-container"class="user-info">
<h3>JagaDataPribadiTetapAman</h3>


</section>
</main>
<footer>
<p>üÑØ2025-DibuatdenganbantuanAI.JagaDataPribadiTetapAman.</p>
</footer>
</div>
<script>
document.addEventListener('DOMContentLoaded',()=>{
//---LazyLoadImages---
constlazyImages=document.querySelectorAll('img[data-src]');
constlazyImageObserver=newIntersectionObserver((entries,observer)=>{
entries.forEach(entry=>{
if(entry.isIntersecting){
constimg=entry.target;
img.src=img.dataset.src;
img.removeAttribute('data-src');
observer.unobserve(img);
}
});
});
lazyImages.forEach(img=>lazyImageObserver.observe(img));

//---Lightbox---
constgallery=document.querySelector('.gallery');
constlightbox=document.getElementById('lightbox');
if(gallery&&lightbox){
constlbImg=document.getElementById('lb-img');
constimages=Array.from(gallery.querySelectorAll('a'));
letcurrentIndex=0;

functionshowImage(index){
constimgLink=images[index];
if(imgLink){
lbImg.src=imgLink.href;
lbImg.alt=imgLink.dataset.caption||'';
currentIndex=index;
}
}

gallery.addEventListener('click',e=>{
e.preventDefault();
constlink=e.target.closest('a');
if(link){
constindex=images.indexOf(link);
lightbox.classList.add('open');
showImage(index);
}
});

document.getElementById('lb-close').addEventListener('click',()=>lightbox.classList.remove('open'));
document.getElementById('lb-prev').addEventListener('click',()=>showImage((currentIndex-1+images.length)%images.length));
document.getElementById('lb-next').addEventListener('click',()=>showImage((currentIndex+1)%images.length));
lightbox.addEventListener('click',e=>{if(e.target===lightbox)lightbox.classList.remove('open');});

document.addEventListener('keydown',e=>{
if(lightbox.classList.contains('open')){
if(e.key==='Escape')lightbox.classList.remove('open');
if(e.key==='ArrowLeft')document.getElementById('lb-prev').click();
if(e.key==='ArrowRight')document.getElementById('lb-next').click();
}
});
}

//---SocialSharing---
constshareContainer=document.getElementById('share-container');
if(shareContainer){
consturl=encodeURIComponent(window.location.href);
consttitle=encodeURIComponent(document.title);
constplatforms={
'Facebook':`https://www.facebook.com/sharer/sharer.php?u=${url}`,
'Twitter':`https://twitter.com/intent/tweet?url=${url}&text=${title}`,
'WhatsApp':`https://wa.me/?text=${title}%20${url}`,
'Telegram':`https://t.me/share/url?url=${url}&text=${title}`
};

functiongetIconPath(name){
consticons={
'Facebook':'M122.04c-5.520-104.48-1010s4.4810101010-4.4810-10-4.48-10-10-10zm2.512.46h-2.5v7.5h-3v-7.5H7.5v-2.5h1.5v-1.5c0-1.51-2.52.5-2.5h2v2.5h-1.5v1.5h1.5v2.5z',
'Twitter':'M22.466c-.77.35-1.6.58-2.46.67.88-.531.56-1.371.88-2.38-.83.5-1.75.85-2.721.05C18.374.517.264164c-2.350-4.271.92-4.274.290.34.04.67.11.98C8.569.15.237.223.14.48c-.37.63-.581.37-.582.1501.49.762.811.913.58-.7-.02-1.37-.21-1.95-.5v.05c02.081.483.823.444.21-.36.1-.74.15-1.14.15-.280-.55-.03-.81-.08.551.72.142.944.032.97-1.471.15-3.321.83-5.331.83-.350-.69-.02-1.03-.061.91.224.161.936.581.937.89012.21-6.5412.21-12.210-.190-.37-.01-.56.84-.61.56-1.362.14-2.22z',
'WhatsApp':'M122C6.48226.48212c05.524.481010105.52010-4.4810-10S17.522122zm3.1912.2c-.22.39-.77.72-1.2.82-.43.1-1.04.1-1.58-.08-.54-.18-1.2-.4-1.92-.77-.72-.37-1.38-.83-1.93-1.38s-.99-1.2-1.38-1.93c-.37-.72-.6-1.38-.77-1.92-.18-.54-.18-1.14-.08-1.58.1-.43.43-.98.82-1.2.39-.22.8-.271.14-.27.340.6.05.78.08.18.03.3.05.3.05l.1.05c.22.1.33.22.4.4.07.18.05.35-.05.5-.1.15-.22.3-.3.4l-.1.1c-.22.25-.4.5-.4.8s.18.55.4.8l.1.1c.3.22.6.4.8.4s.48-.1.7-.3l.1-.1c.1-.1.22-.22.3-.3.1-.15.27-.22.4-.15l.05.02s.02.02.05.05c.18.08.3.3.3.5.02.2.02.43-.05.6-.07.17-.12.3-.2.43l-.1.1c-.22.4-.55.77-.821.2z',
'Telegram':'M122C6.48226.48212s4.4810101010-4.4810-10S17.522122zm4.696.54l-1.637.63c-.15.7-.58.87-1.14.54l-2.43-1.78-1.171.12c-.13.13-.24.24-.48.24l.17-2.484.46-4.04c.19-.17-.03-.27-.27-.1l-5.53.44-2.37-.74c-.69-.22-.7-.73.14-1.07l9.42-3.61c.58-.221.04.14.87.8z'
};
returnicons[name]||'';
}

for(const[name,link]ofObject.entries(platforms)){
consta=document.createElement('a');
a.href=link;
a.target='_blank';
a.rel='noopenernoreferrer';
a.title=`Bagikanke${name}`;
a.innerHTML=`<svgwidth="24"height="24"viewBox="002424"fill="currentColor">${getIconPath(name)}</svg>`;
shareContainer.appendChild(a);
}
}
});
</script>

<divclass="search-floating-container"><inputtype="text"id="floatingSearchInput"placeholder="cariartikel..."autocomplete="off"><spanid="floatingSearchClear"class="clear-button"></span><divid="floatingSearchResults"class="floating-results-container"></div></div>
<sectionid="related-marquee-section"><divid="related-marquee-container"></div></section><scriptdefersrc="/ext/marquee-url.js"></script>
<scriptdefersrc="/ext/iposbrowser.js"></script>


</body></html>
